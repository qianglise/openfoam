.. _introduction:

OpenFOAM Introduction
=====================

.. questions::

   - What is 
   - What problem do 

.. objectives::

   - Explain 

.. instructor-note::

   - 15 min teaching
   - 0 min exercises


What is OpenFOAM ?
------------------

- OpenFOAM is an open source Computation Fluid Dynamics (CFD) solve released and developed primarily by OpenCFD Ltd since 2004. 

- It has a large user base across most areas of engineering and science, from both commercial and academic organizations. 

- OpenFOAM has an extensive range of features to solve anything from complex fluid flows involving chemical reactions, turbulence and heat transfer, to acoustics, solid mechanics and electromagnetics. 

- There are two main branches of OpenFOAM, 

  - one is from OpenFOAM Foundation (`www.openfoam.org <http://www.openfoam.org>`_),
  - and the other is OpenCFD Ltd (`www.openfoam.com <http://www.openfoam.com>`_).
  - In this guide, we only consider the later

-  Extensive guides, tutorials, code samples and documentation on the OpenFOAM
   can be found at `www.openfoam.com <http://www.openfoam.com>`_.


Different variants of OpenFOAM
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

There are two main variants of OpenFOAM:

    OpenCFD version:
        - New versions released twice a year (June-December)
        - Versions are named as (vYYMM) e.g. v1912
        - Website: https://www.openfoam.com

    OpenFOAM foundation version:
        - No defined date for new release 
        - Versions are named with with two digits like 4.1
        - Website: https://openfoam.org


One can read the history if interested:
https://www.openfoam.com/news/history


Which version to use?
~~~~~~~~~~~~~~~~~~~~~

It depends on the features you want to use

    - Check the website and release notes to see which one fits better to your framework
    - If both include the features you need, do some performance and accuracy benchmarks to see which one is better
    - Otherwise it is just matter of taste!

We will be using vXXXXXX for the training




Case structure
--------------

To setup a case, you need to have at least 3 directories in your case directory, namely system, constant and <initial time directory> (e.g. 0).

OpenFOAM cases are configured using plain text input files located across the three directories, in each input file, OpenFOAM uses a plain text dictionary format with keywords and values

system: contains input files for grid generators and solvers

    - controlDict
    - fvSchemes
    - fvSolution
    - fvOptions
    <system dictionaries>

constant: Contains values that are constant during simulation like transport properties of the fluid (viscosity models) and mesh coordinates

    - polyMesh
    <constant dictionaries>

<initial time directory>: contains initial fields of the flow e.g. velocity, pressure etc. and boundary conditions

    <field files>

Additional directories can be generated, depending on user cases, most common ones include e.g.:

    <result time directories>: field predictions as a function of iteration count or time
    postProcessing: data typically generated by function objects
    data conversion, e.g. VTK


controlDict
~~~~~~~~~~~

The controlDict dictionary is used to specify the main case controls. This includes, e.g. timing information, write format, and optional libraries that can be loaded at run time.

An example dictionary is shown below:

/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2312                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      controlDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

application     icoFoam;

startFrom       startTime;

startTime       0;

stopAt          endTime;

endTime         0.5;

deltaT          0.005;

writeControl    timeStep;

writeInterval   20;

purgeWrite      0;

writeFormat     ascii;

writePrecision  6;

writeCompression off;

timeFormat      general;

timePrecision   6;

runTimeModifiable true;


// ************************************************************************* //
